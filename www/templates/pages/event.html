<ion-view view-title="Evento" cache-view="false">
    <ion-content class="content-container">
        <form>
            <div class="list">
                <label class="item item-input item-floating-label">
                    <span class="input-label">Título *</span>
                    <input type="text" ng-model="event.title" placeholder="Título *" ng-keypress="closeKeyboard($event)" ng-keydown="closeKeyboard($event)">
                    <div></div>
                </label>
                <label class="item item-input item-floating-label">
                    <span class="input-label">Descripción</span>
                    <input type="text" ng-model="event.description" placeholder="Descripción" ng-keypress="closeKeyboard($event)" ng-keydown="closeKeyboard($event)">
                    <div></div>
                </label>
                <label class="item item-input item-select item-info first-in-event">
                    <div class="input-label">
                        Materia
                    </div>
                    <select
                        ng-model="event.subject_id"
                        ng-options="subject.id as subject.name for subject in mySubjects">
                    </select>
                </label>

                <div class="item item-toggle in-event">
                    Todo el día
                    <label class="toggle">
                        <input type="checkbox" ng-model="options.allDay">
                        <div class="track">
                            <div class="handle"></div>
                        </div>
                    </label>
                </div>
                <label class="item item-input item-info">
                    <span class="input-label">Desde</span>
                    <input type="datetime-local" ng-show="options.allDay == false" ng-model="dates.start" ng-value="dates.start | date: 'dd/MM/yyyy hh:mm'">
                    <input type="date" ng-show="options.allDay == true" ng-model="dates.start" ng-value="dates.start | date: 'dd/MM/yyyy'">
                </label>
                <label class="item item-input item-info">
                    <span class="input-label">Hasta</span>
                    <input type="datetime-local" ng-show="options.allDay == false" ng-model="dates.end" ng-value="dates.end | date: 'dd/MM/yyyy hh:mm'">
                    <input type="date" ng-show="options.allDay == true" ng-model="dates.end" ng-value="dates.end | date: 'dd/MM/yyyy'">
                </label>

                <div class="item item-toggle in-event">
                    Notificar
                    <label class="toggle">
                        <input type="checkbox" ng-model="options.withNotif">
                        <div class="track">
                            <div class="handle"></div>
                        </div>
                    </label>
                </div>
                <label class="item item-input item-info notif" ng-show="options.withNotif">
                    <input type="number" ng-model="event.quantity" min="1" ng-keypress="closeKeyboard($event)" ng-keydown="closeKeyboard($event)">
                    <ion-radio ng-model="event.type" ng-value="'minutes'">Minutos</ion-radio>
                    <ion-radio ng-model="event.type" ng-value="'hours'">Horas</ion-radio>
                    <ion-radio ng-model="event.type" ng-value="'days'">Días</ion-radio>
                </label>
                <label class="item item-input item-select item-info">
                    <div class="input-label">
                        Color
                    </div>
                    <select
                        ng-init="event.color = colors[0].id"
                        ng-model="event.color"
                        ng-options="color.id as color.name for color in colors">
                    </select>
                </label>
                <div class="button-container">
                    <button ng-click="addEvent()">Guardar</button>
                </div>
                <div class="button-container" ng-show="options.showDeleteButton">
                    <button ng-click="deleteEvent()">Eliminar</button>
                </div>
            </div>
        </form>
    </ion-content>
</ion-view>
